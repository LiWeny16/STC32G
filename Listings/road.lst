C251 COMPILER V5.60.0,  road                                                               20/03/23  18:56:22  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE road
OBJECT MODULE PLACED IN .\Out\road.obj
COMPILER INVOKED BY: C:\Learning\Keil_v5\body\C251\BIN\C251.EXE User\User_c\road.c XSMALL INTR2 BROWSE INCDIR(.\Lib\libr
                    -aries;.\Lib\seekfree_libraries;.\Lib\seekfree_peripheral;.\User\User_h) DEBUG PRINT(.\Listings\road.lst) TABS(2) OBJECT(
                    -.\Out\road.obj) 

stmt  level    source

    1          // 该文件用于对道路情况进行判断，并将相应标志位赋值
    2          
    3          #include "road.h"
    4          Road road_judge(DG_State *dg_state ,Err_Steering *err_steering)
    5          {
    6   1        int32 L_Sum;
    7   1        L_Sum = dg_state->L_zh_real + dg_state->L_yh_real + dg_state->L_zx_real + dg_state->L_yx_real;
    8   1        tempVar = (float)L_Sum;
    9   1        if (400 < L_Sum && L_Sum < 5800) // 直走
   10   1        {
   11   2          return Straight;
   12   2        }
   13   1        else if ( // 左转
   14   1          5800 <= L_Sum &&
   15   1          L_Sum < 7800 &&
   16   1          err_steering->Err < 0)
   17   1        {
   18   2          return Curve_Left;
   19   2        }
   20   1        else if ( // 右转
   21   1          5800 <= L_Sum &&
   22   1          L_Sum < 7800 &&
   23   1          err_steering->Err >= 0)
   24   1        {
   25   2          return Curve_Right;
   26   2        }
   27   1        else if ( // 进圆环
   28   1          7800 <= L_Sum &&
   29   1          err_steering->Err < 0)
   30   1        {
   31   2          return Big_Ring;
   32   2        }
   33   1        else if ( //进环点
   34   1          L_Sum >= 10000 &&
   35   1          ((float)((dg_state->L_zh_real - 3780) * (dg_state->L_zh_real - 3780) +
   36   1            (dg_state->L_yh_real - 3540) * (dg_state->L_yh_real - 3540) +
   37   1            (dg_state->L_zx_real - 3780) * (dg_state->L_zx_real - 3780) +
   38   1            (dg_state->L_yx_real - 146) * (dg_state->L_yx_real - 146))/10 <= 8000))
   39   1        {
   40   2          return Ring_In;
   41   2        }
   42   1        else if ( //出环点
   43   1          L_Sum >= 10000 &&
   44   1          ((float)((dg_state->L_zh_real - 3700) * (dg_state->L_zh_real - 3700) +
   45   1            (dg_state->L_yh_real - 2004) * (dg_state->L_yh_real - 2004) +
   46   1            (dg_state->L_zx_real - 3800) * (dg_state->L_zx_real - 3800) +
   47   1            (dg_state->L_yx_real - 1973) * (dg_state->L_yx_real - 1973))/10 <= 8000))
   48   1        {
   49   2          return Ring_Out;
   50   2        }
   51   1        
   52   1        else if ((dg_state->L_zh_real <= 5) &&
   53   1             (dg_state->L_yh_real <= 5) &&
   54   1             (dg_state->L_zx_real <= 5) &&
   55   1             (dg_state->L_yx_real <= 5))
   56   1        {
   57   2          return Stop;
C251 COMPILER V5.60.0,  road                                                               20/03/23  18:56:22  PAGE 2   

   58   2        }
   59   1        else
   60   1        {
   61   2          return Straight;
   62   2        }
   63   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       382     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
