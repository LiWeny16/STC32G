C251 COMPILER V5.60.0,  Pid                                                                19/03/23  18:33:24  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE Pid
OBJECT MODULE PLACED IN .\Out\Pid.obj
COMPILER INVOKED BY: C:\Learning\Keil_v5\body\C251\BIN\C251.EXE User\User_c\Pid.c XSMALL INTR2 BROWSE INCDIR(.\Lib\libra
                    -ries;.\Lib\seekfree_libraries;.\Lib\seekfree_peripheral;.\User\User_h) DEBUG PRINT(.\Listings\Pid.lst) TABS(2) OBJECT(.\
                    -Out\Pid.obj) 

stmt  level    source

    1          //¸ÃÎÄ¼þÓÃÓÚÊ¹ÓÃ¶æ»úÆ«²î½á¹¹ÌåºÍµç»úÆ«²î½á¹¹Ìå¼ÆËã¶æ»úPIDÊä³öÖµºÍµç»úPIDÔöÁ¿Öµ
    2          
    3          #include "Pid.h"
    4          float constrain_float(float amt, float low, float high)//ÏÞ·ùÓÃ£¬lowºÍhighÎªÉÏÏÂÏÞ
    5          {
    6   1         return ((amt)<(low)?(low):((amt)>(high)?(high):(amt)));
    7   1      }
    8          
    9          uint32 constrain_uint32(uint32 amt, uint32 low, uint32 high)//ÏÞ·ùÓÃ£¬lowºÍhighÎªÉÏÏÂÏÞ
   10          {
   11   1         return ((amt)<(low)?(low):((amt)>(high)?(high):(amt)));
   12   1      }
   13          
   14          void Pid_Steering_Calculate(volatile Err_Steering* err_steering , volatile PID_Steering* pid_steering)//¶
             -æ»úÎ»ÖÃÊ½PIDÊä³öÖµ
   15          {
   16   1      
   17   1       //   constrain_float(err_steering->Errsum, pid_steering->imax, pid_steering->imin);
   18   1      //Î»ÖÃÊ½PID»ý·ÖÏîÏÞ·ù
   19   1           pid_steering->STEERING_OUT_temp = (float)((pid_steering->p_steering * err_steering-> Err) + (pid_stee
             -ring->i_steering * err_steering-> Errsum) + (pid_steering->d_steering * err_steering-> Errdif));
   20   1          // tempVar =(float)((pid_steering->p_steering * err_steering-> Err) + (pid_steering->i_steering * err
             -_steering-> Errsum) + (pid_steering->d_steering * err_steering-> Errdif));
   21   1        //pid_steering->PID_STEERING_OUT = (f)(((pid_steering->p_steering * err_steering-> Err*(-1.0)) + (pid_st
             -eering->i_steering * err_steering-> Errsum*0) + (pid_steering->d_steering * err_steering-> Errdif)*0));
   22   1        //  temp =   pid_steering->PID_STEERING_OUT
   23   1          //Î»ÖÃÊ½PIDÊä³ö¼ÆËã
   24   1      }
   25          
   26          void Pid_Motor_Calculate(Err_Motor* err_motor,PID_Motor* pid_motor)//µç»úÔöÁ¿Ê½PIDÊä³öÔöÁ¿
   27          {
   28   1        pid_motor->PID_MOTOR_L_OUT = (pid_motor->p_motor * err_motor->err_derivative_L_m) + (pid_motor->i_motor 
             -* err_motor->err_L_m) + (pid_motor->d_motor * err_motor->err_derivative2_L_m);
   29   1        pid_motor->PID_MOTOR_R_OUT = (pid_motor->p_motor * err_motor->err_derivative_R_m) + (pid_motor->i_motor 
             -* err_motor->err_R_m) + (pid_motor->d_motor * err_motor->err_derivative2_R_m);
   30   1        
   31   1      }


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       339     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------          8
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.

C251 COMPILER V5.60.0,  Pid                                                                19/03/23  18:33:24  PAGE 2   


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
